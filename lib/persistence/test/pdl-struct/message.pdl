struct -name struct {
    string name
    set<slot> slots = {}
}

struct -name slot {
    string name
    string type
    string default
    bool optional_p = false
    string container_type
}

struct -name email {
    string name = ""
    string address
}

struct -name file {
    string name
    string mime_type
    i32 size
}

struct -name folder {
    string name
}

struct -name message -is_final_if_no_scope "1" {

    string device = "sms"

    i16 num_comments = 0

    email from
    list<email> to
    list<email> cc = {}
    list<email> bcc = {}

    string subject
    string body

    bool public_p = false

    set<category> categories
    set<folder> folders
    set<string> tags
    set<file> attachment = {}

    map<string,i32> wordcount

    #extends -ref content.Object
    #extends -ref content.Content
    #extends -ref auditing.Auditing -hi world

    #index -attr public_p -abc 123

}

