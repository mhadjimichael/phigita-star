
set input {1:1 10:1 21:1 42:1 93:1 98:4 109:1 155:1 197:9 203:1 226:1 296:3 400:1 428:1 527:1 602:1 618:1 643:1 738:1 749:2 779:1 800:1 829:1 917:1 931:1 936:1 992:1 1025:1 1050:1 1135:2 1159:1 1176:1 1184:1 1222:1 1273:2 1309:1 1389:1 1634:1 1721:3 1793:2 1943:1 1968:1 2369:1 2419:1 2501:3 2560:2 2608:1 2677:1 2686:1 2736:1 2930:1 3049:5 3502:1 3626:1 3664:1 3735:3 3872:1 4336:2 4512:3 4813:1 4961:1 5105:1 5610:3 7792:1 8028:1 8303:2 8406:1 8526:7 8906:2 9686:2 9691:1 11685:1 11916:1 11977:1 11993:1 12846:1 13384:2 13389:2 13589:1 13637:1 13665:3 13735:1 13773:1 13838:1 13911:1 13955:5 14495:1 14707:1 14733:1 15052:1 15450:1 15567:1 17210:1 18040:2 18167:1 18882:2 19118:1 19375:2 20865:1 20954:2 20955:1 20956:1 20968:2 20969:1 21438:1 21463:1 21464:1 21465:1 21466:1 21910:1 21911:2} ;# expected predicion label is 2


set input {40:2 148:1 154:2 166:1 399:2 428:1 578:1 627:2 771:1 830:1 851:5 946:1 982:1 1096:2 1101:1 1189:1 1258:1 1325:1 1326:3 1463:1 1563:1 1568:1 1587:3 1623:1 1624:1 1721:1 1789:1 1872:1 1938:2 2141:1 2282:1 2584:1 2799:1 3653:2 3947:1 3977:1 4039:1 5105:1 5477:1 6695:1 6714:1 7076:1 7232:1 7444:1 7517:1 7531:1 7979:10 8097:1 8221:1 8540:1 8962:1 10316:1 10609:2 13532:1 16362:2 17070:1 18378:2 18931:1 19652:1 19732:1 20118:1 22379:1 28378:1 28662:1 31184:1 34050:1 34212:1 34213:1 34214:1} ;# expected predicion label is 10

set x [list]
foreach feature_node $input {
    lappend x [split $feature_node {:}]
}

::xo::lib::require liblinear

set model_file [file join [acs_root_dir] lib liblinear test news20-dataset news20.model]

set rc [ll_model::load model $model_file]
set prediction [::ll_predict model $x]

doc_return 200 text/plain "rc=$rc model=$model prediction=$prediction"
