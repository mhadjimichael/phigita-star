# Generated automatically from Makefile.in by configure.

CPPFLAGS = -g -Wall -Woverloaded-virtual -Wtraditional -Wpointer-arith -Wcast-qual -Wredundant-decls

BUILDBASE= buildData.o

UNIBASE= WString.o UnicodeData.o WRegExp.o unicodedata-gen.o

RANLIB= @RANLIB@
AR= ar
CONFIGFLAGS= @DEFS@
srcdir = @srcdir@
top_srcdir = @top_srcdir@
VPATH = @srcdir@
prefix = @prefix@
exec_prefix = @exec_prefix@
bindir = @bindir@
libdir = @libdir@

INSTALL = @INSTALL@
INSTALL_PROGRAM = @INSTALL_PROGRAM@ $(AM_INSTALL_PROGRAM_FLAGS)
INSTALL_DATA = @INSTALL_DATA@
INSTALL_SCRIPT = @INSTALL_SCRIPT@

includedirs = /usr/include/ustring

%.o : %.cc %.h
	g++ $(CPPFLAGS) -c $< 

all: writeconfig buildData libustring.a utest


writeconfig: tests/writeWStringTypes.cc
	$(MAKE) -C tests ; tests/writeWStringTypes >WStringTypes.h

buildData: $(BUILDBASE)
	g++ -g $(BUILDBASE) -o buildData

unicodedata-gen.cc: buildData UnicodeData-Latest.txt
	buildData ./UnicodeData-Latest.txt

libustring.a:  unicodedata-gen.cc $(UNIBASE)
	$(AR) cru libustring.a $(UNIBASE)
	$(RANLIB) libustring.a

utest: libustring.a utest.cc
	g++ $(CPPFLAGS) utest.cc -o utest -L. -lustring

install: all
	$(INSTALL) -d $(includedirs)
	$(INSTALL) *.h $(includedirs)
	$(INSTALL) libustring.a $(libdir)

clean :
	rm -f unicodedata-gen.h unicodedata-gen.cc
	rm -f $(BUILDBASE) $(UNIBASE) buildData utest libustring.a

mrproper: clean
	rm -f *~ core config.log config.cache config.status Makefile
	$(MAKE) -C tests mrproper

