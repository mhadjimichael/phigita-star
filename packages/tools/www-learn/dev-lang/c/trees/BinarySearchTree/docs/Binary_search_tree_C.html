<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="keywords" content="Binary search tree (C),Binary search tree (C Plus Plus),Binary search tree (Haskell),Binary search tree (Java),Binary search tree (Scheme),Binary search tree (Standard ML),Binary search tree (C),Binary search tree (C)" />
<link rel="shortcut icon" href="favicon.ico" />
<link rel="copyright" href="http://en.literateprograms.org/LiteratePrograms:Copyrights" />
		<title>Binary search tree (C) - LiteratePrograms</title>
		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "/skins/monobook/main.css?7"; /*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print" href="skins/common/commonPrint.css" />
		<!--[if lt IE 5.5000]><style type="text/css">@import "/skins/monobook/IE50Fixes.css";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "/skins/monobook/IE55Fixes.css";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "/skins/monobook/IE60Fixes.css";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "/skins/monobook/IE70Fixes.css?1";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/skins/common/IEFixes.js"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		<script type="text/javascript">var skin = 'monobook';var stylepath = '/skins';</script>
		<script type="text/javascript" src="skins/common/wikibits.js"><!-- wikibits js --></script>
		<script type="text/javascript" src="-?action=raw&amp;gen=js"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "/MediaWiki:Common.css?action=raw&ctype=text/css&smaxage=18000";
@import "/MediaWiki:Monobook.css?action=raw&ctype=text/css&smaxage=18000";
@import "/-?action=raw&gen=css&maxage=18000";
/*]]>*/</style>
		<!-- Head Scripts -->
			</head>
<body  class="ns-0 ltr">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 class="firstHeading">Binary search tree (C)</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From LiteratePrograms</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="Binary_search_tree_(C)#column-one">navigation</a>, <a href="Binary_search_tree_(C)#searchInput">search</a></div>			<!-- start content -->
			<dl><dd><b>Other implementations</b>: <strong>C</strong> | <a href="http://en.literateprograms.org/Binary_search_tree_%28C_Plus_Plus%29" title="Binary search tree (C Plus Plus)">C++</a> | <a href="http://en.literateprograms.org/Binary_search_tree_%28Haskell%29" title="Binary search tree (Haskell)">Haskell</a> | <a href="http://en.literateprograms.org/Binary_search_tree_%28Java%29" title="Binary search tree (Java)">Java</a> | <a href="http://en.literateprograms.org/Binary_search_tree_%28Scheme%29" title="Binary search tree (Scheme)">Scheme</a> | <a href="http://en.literateprograms.org/Binary_search_tree_%28Standard_ML%29" title="Binary search tree (Standard ML)">Standard&nbsp;ML</a>
</dd></dl>
<p>This article implements a simple binary search tree data structure in C with search, insert, and delete operations. A binary search tree is a tree where each node contains a value, and for each node, the left subtree only contains values less than the value of the node, and the right subtree only contains greater values. This allows to find the node for any value in <span class="texhtml"><i>O</i>(log<i>N</i>)</span> average time.
</p><p>The binary search tree shall work with any data type, therefore the code takes pointers to void for the data, and relies on an user-supplied comparison function for sorting.
</p>
<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class='toclevel-1'><a href="Binary_search_tree_(C)#Node_structure"><span class="tocnumber">1</span> <span class="toctext">Node structure</span></a></li>
<li class='toclevel-1'><a href="Binary_search_tree_(C)#Search"><span class="tocnumber">2</span> <span class="toctext">Search</span></a></li>
<li class='toclevel-1'><a href="Binary_search_tree_(C)#Insert"><span class="tocnumber">3</span> <span class="toctext">Insert</span></a></li>
<li class='toclevel-1'><a href="Binary_search_tree_(C)#Deletion"><span class="tocnumber">4</span> <span class="toctext">Deletion</span></a></li>
<li class='toclevel-1'><a href="Binary_search_tree_(C)#Files"><span class="tocnumber">5</span> <span class="toctext">Files</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://en.literateprograms.org/Binary_search_tree_%28C%29?action=edit&amp;section=1" title="Edit section: Node structure">edit</a>]</div><a name="Node_structure"></a><h2> Node structure </h2>
<p>We begin by defining a node structure, which contains left and right child pointers and a pointer to void referring to the node's data:
</p>
<pre>
<font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:node structure" href="Binary_search_tree_(C)#chunk use:node structure">node structure</a>&gt;&gt;=</b></font>
<strong>struct</strong> <font color="#2040a0">bst_node</font> <font color="#4444FF"><strong>{</strong></font>
    <strong>void</strong><font color="#4444FF">*</font> <font color="#2040a0">data</font><font color="#4444FF">;</font>
    <strong>struct</strong> <font color="#2040a0">bst_node</font><font color="#4444FF">*</font> <font color="#2040a0">left</font><font color="#4444FF">;</font>
    <strong>struct</strong> <font color="#2040a0">bst_node</font><font color="#4444FF">*</font> <font color="#2040a0">right</font><font color="#4444FF">;</font>
<font color="#4444FF"><strong>}</strong></font><font color="#4444FF">;</font>
</pre>
<p>We represent an entire tree using a pointer to its root node; thus this structure doubles as a tree representation. Constructing and destroying nodes is straightforward. Newly constructed nodes initially are leaf nodes, i.e. they have no left or right child:
</p>
<pre>
<font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:declarations" href="Binary_search_tree_(C)#chunk use:declarations">declarations</a>&gt;&gt;=</b></font>
<strong>struct</strong> <font color="#2040a0">bst_node</font><font color="#4444FF">*</font> <font color="#2040a0">new_node</font><font color="#4444FF">(</font><strong>void</strong><font color="#4444FF">*</font> <font color="#2040a0">data</font><font color="#4444FF">)</font><font color="#4444FF">;</font>
<font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:node constructor" href="Binary_search_tree_(C)#chunk use:node constructor">node constructor</a>&gt;&gt;=</b></font>
<strong>struct</strong> <font color="#2040a0">bst_node</font><font color="#4444FF">*</font> <font color="#2040a0">new_node</font><font color="#4444FF">(</font><strong>void</strong><font color="#4444FF">*</font> <font color="#2040a0">data</font><font color="#4444FF">)</font> <font color="#4444FF"><strong>{</strong></font>
    <strong>struct</strong> <font color="#2040a0">bst_node</font><font color="#4444FF">*</font> <font color="#2040a0">result</font> <font color="#4444FF">=</font> <font color="#2040a0">malloc</font><font color="#4444FF">(</font><strong>sizeof</strong><font color="#4444FF">(</font><strong>struct</strong> <font color="#2040a0">bst_node</font><font color="#4444FF">)</font><font color="#4444FF">)</font><font color="#4444FF">;</font>
    <font color="#2040a0">result</font><font color="#4444FF">-</font><font color="#4444FF">&gt;</font><font color="#2040a0">data</font> <font color="#4444FF">=</font> <font color="#2040a0">data</font><font color="#4444FF">;</font>
    <font color="#2040a0">result</font><font color="#4444FF">-</font><font color="#4444FF">&gt;</font><font color="#2040a0">left</font> <font color="#4444FF">=</font> <font color="#2040a0">result</font><font color="#4444FF">-</font><font color="#4444FF">&gt;</font><font color="#2040a0">right</font> <font color="#4444FF">=</font> <font color="#2040a0">NULL</font><font color="#4444FF">;</font>
    <strong>return</strong> <font color="#2040a0">result</font><font color="#4444FF">;</font>
<font color="#4444FF"><strong>}</strong></font>
</pre>
<p>NULL requires stdlib.h:
</p>
<pre>
<font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:header files" href="Binary_search_tree_(C)#chunk use:header files">header files</a>&gt;&gt;=</b></font>
<font color="#0000ff"><strong>#include <font color="#008000">&lt;stdlib.h&gt;</font></strong></font>
</pre>
<p>On destroying nodes, it is assumed that the node has already been removed from the tree. Especially there are no subtrees to destroy. Moreover, this search tree implementation doesn't take over ownership of the data values, therefore the data pointer doesn't have to be destroyed either.
</p>
<pre>
<font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:declarations" href="Binary_search_tree_(C)#chunk use:declarations">declarations</a>&gt;&gt;=</b></font>
<strong>void</strong> <font color="#2040a0">free_node</font><font color="#4444FF">(</font><strong>struct</strong> <font color="#2040a0">bst_node</font><font color="#4444FF">*</font> <font color="#2040a0">node</font><font color="#4444FF">)</font><font color="#4444FF">;</font>
<font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:node destructor" href="Binary_search_tree_(C)#chunk use:node destructor">node destructor</a>&gt;&gt;=</b></font>
<strong>void</strong> <font color="#2040a0">free_node</font><font color="#4444FF">(</font><strong>struct</strong> <font color="#2040a0">bst_node</font><font color="#4444FF">*</font> <font color="#2040a0">node</font><font color="#4444FF">)</font> <font color="#4444FF"><strong>{</strong></font>
    <font color="#2040a0">free</font><font color="#4444FF">(</font><font color="#2040a0">node</font><font color="#4444FF">)</font><font color="#4444FF">;</font>
<font color="#4444FF"><strong>}</strong></font>
</pre>
<p>Since our data is generic, the comparison function is supplied by the user via a function pointer and must be the same for all operations. We choose to use a three-way comparator:
</p>
<pre>
<font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:type definitions" href="Binary_search_tree_(C)#chunk use:type definitions">type definitions</a>&gt;&gt;=</b></font>
<font color="#444444">/* Returns negative (left&lt;right), zero (left==right), or positive (left&gt;right). */</font>
<strong>typedef</strong> <strong>int</strong> <font color="#2040a0">comparator</font><font color="#4444FF">(</font><strong>void</strong><font color="#4444FF">*</font> <font color="#2040a0">left</font>, <strong>void</strong><font color="#4444FF">*</font> <font color="#2040a0">right</font><font color="#4444FF">)</font><font color="#4444FF">;</font>
</pre>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://en.literateprograms.org/Binary_search_tree_%28C%29?action=edit&amp;section=2" title="Edit section: Search">edit</a>]</div><a name="Search"></a><h2> Search </h2>
<p>The most important operation on the tree is searching, which uses the properties of the binary search tree to traverse from the root down towards a given node. In the end it will either find the requested node or prove that it is not in the tree, in which case it returns a pointer to NULL. We return the address of the node pointer instead of just the node pointer to facilitate in-place updates.
</p>
<pre>
<font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:declarations" href="Binary_search_tree_(C)#chunk use:declarations">declarations</a>&gt;&gt;=</b></font>
<strong>struct</strong> <font color="#2040a0">bst_node</font><font color="#4444FF">*</font><font color="#4444FF">*</font> <font color="#2040a0">search</font><font color="#4444FF">(</font><strong>struct</strong> <font color="#2040a0">bst_node</font><font color="#4444FF">*</font><font color="#4444FF">*</font> <font color="#2040a0">root</font>, <font color="#2040a0">comparator</font> <font color="#2040a0">compare</font>, <strong>void</strong><font color="#4444FF">*</font> <font color="#2040a0">data</font><font color="#4444FF">)</font><font color="#4444FF">;</font>
<font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:search operation" href="Binary_search_tree_(C)#chunk use:search operation">search operation</a>&gt;&gt;=</b></font>
<strong>struct</strong> <font color="#2040a0">bst_node</font><font color="#4444FF">*</font><font color="#4444FF">*</font> <font color="#2040a0">search</font><font color="#4444FF">(</font><strong>struct</strong> <font color="#2040a0">bst_node</font><font color="#4444FF">*</font><font color="#4444FF">*</font> <font color="#2040a0">root</font>, <font color="#2040a0">comparator</font> <font color="#2040a0">compare</font>, <strong>void</strong><font color="#4444FF">*</font> <font color="#2040a0">data</font><font color="#4444FF">)</font> <font color="#4444FF"><strong>{</strong></font>
    <strong>struct</strong> <font color="#2040a0">bst_node</font><font color="#4444FF">*</font><font color="#4444FF">*</font> <font color="#2040a0">node</font> <font color="#4444FF">=</font> <font color="#2040a0">root</font><font color="#4444FF">;</font>
    <strong>while</strong> <font color="#4444FF">(</font><font color="#4444FF">*</font><font color="#2040a0">node</font> <font color="#4444FF">!</font><font color="#4444FF">=</font> <font color="#2040a0">NULL</font><font color="#4444FF">)</font> <font color="#4444FF"><strong>{</strong></font>
        <strong>int</strong> <font color="#2040a0">compare_result</font> <font color="#4444FF">=</font> <font color="#2040a0">compare</font><font color="#4444FF">(</font><font color="#2040a0">data</font>, <font color="#4444FF">(</font><font color="#4444FF">*</font><font color="#2040a0">node</font><font color="#4444FF">)</font><font color="#4444FF">-</font><font color="#4444FF">&gt;</font><font color="#2040a0">data</font><font color="#4444FF">)</font><font color="#4444FF">;</font>
        <strong>if</strong> <font color="#4444FF">(</font><font color="#2040a0">compare_result</font> <font color="#4444FF">&lt;</font> <font color="#FF0000">0</font><font color="#4444FF">)</font>
            <font color="#2040a0">node</font> <font color="#4444FF">=</font> <font color="#4444FF">&amp;</font><font color="#4444FF">(</font><font color="#4444FF">*</font><font color="#2040a0">node</font><font color="#4444FF">)</font><font color="#4444FF">-</font><font color="#4444FF">&gt;</font><font color="#2040a0">left</font><font color="#4444FF">;</font>
        <strong>else</strong> <strong>if</strong> <font color="#4444FF">(</font><font color="#2040a0">compare_result</font> <font color="#4444FF">&gt;</font> <font color="#FF0000">0</font><font color="#4444FF">)</font>
            <font color="#2040a0">node</font> <font color="#4444FF">=</font> <font color="#4444FF">&amp;</font><font color="#4444FF">(</font><font color="#4444FF">*</font><font color="#2040a0">node</font><font color="#4444FF">)</font><font color="#4444FF">-</font><font color="#4444FF">&gt;</font><font color="#2040a0">right</font><font color="#4444FF">;</font>
        <strong>else</strong>
            <strong>break</strong><font color="#4444FF">;</font>
    <font color="#4444FF"><strong>}</strong></font>
    <strong>return</strong> <font color="#2040a0">node</font><font color="#4444FF">;</font>
<font color="#4444FF"><strong>}</strong></font>
</pre>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://en.literateprograms.org/Binary_search_tree_%28C%29?action=edit&amp;section=3" title="Edit section: Insert">edit</a>]</div><a name="Insert"></a><h2> Insert </h2>
<p>Inserting is now simple. We search for the node, and if it is not found, we create a new node and put it in the place the search function expected to find it, which is where it belongs in the tree. This particular insertion function does not allow duplicate values in the tree (set semantics), but one that does would be similar.
</p>
<pre>
<font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:declarations" href="Binary_search_tree_(C)#chunk use:declarations">declarations</a>&gt;&gt;=</b></font>
<strong>void</strong> <font color="#2040a0">insert</font><font color="#4444FF">(</font><strong>struct</strong> <font color="#2040a0">bst_node</font><font color="#4444FF">*</font><font color="#4444FF">*</font> <font color="#2040a0">root</font>, <font color="#2040a0">comparator</font> <font color="#2040a0">compare</font>, <strong>void</strong><font color="#4444FF">*</font> <font color="#2040a0">data</font><font color="#4444FF">)</font><font color="#4444FF">;</font>
<font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:insert operation" href="Binary_search_tree_(C)#chunk use:insert operation">insert operation</a>&gt;&gt;=</b></font>
<strong>void</strong> <font color="#2040a0">insert</font><font color="#4444FF">(</font><strong>struct</strong> <font color="#2040a0">bst_node</font><font color="#4444FF">*</font><font color="#4444FF">*</font> <font color="#2040a0">root</font>, <font color="#2040a0">comparator</font> <font color="#2040a0">compare</font>, <strong>void</strong><font color="#4444FF">*</font> <font color="#2040a0">data</font><font color="#4444FF">)</font> <font color="#4444FF"><strong>{</strong></font>
    <strong>struct</strong> <font color="#2040a0">bst_node</font><font color="#4444FF">*</font><font color="#4444FF">*</font> <font color="#2040a0">node</font> <font color="#4444FF">=</font> <font color="#2040a0">search</font><font color="#4444FF">(</font><font color="#2040a0">root</font>, <font color="#2040a0">compare</font>, <font color="#2040a0">data</font><font color="#4444FF">)</font><font color="#4444FF">;</font>
    <strong>if</strong> <font color="#4444FF">(</font><font color="#4444FF">*</font><font color="#2040a0">node</font> <font color="#4444FF">=</font><font color="#4444FF">=</font> <font color="#2040a0">NULL</font><font color="#4444FF">)</font> <font color="#4444FF"><strong>{</strong></font>
        <font color="#4444FF">*</font><font color="#2040a0">node</font> <font color="#4444FF">=</font> <font color="#2040a0">new_node</font><font color="#4444FF">(</font><font color="#2040a0">data</font><font color="#4444FF">)</font><font color="#4444FF">;</font>
    <font color="#4444FF"><strong>}</strong></font>
<font color="#4444FF"><strong>}</strong></font>
</pre>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://en.literateprograms.org/Binary_search_tree_%28C%29?action=edit&amp;section=4" title="Edit section: Deletion">edit</a>]</div><a name="Deletion"></a><h2> Deletion </h2>
<p>Deletion is the most complicated operation. We focus on deleting nodes rather than values, since <code>search()</code> can be used to find a node based on a value if necessary. Deleting a node with one child or less is simple; we just replace it with its child:
</p>
<pre>
<font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:declarations" href="Binary_search_tree_(C)#chunk use:declarations">declarations</a>&gt;&gt;=</b></font>
<strong>void</strong> <font color="#2040a0">delete</font><font color="#4444FF">(</font><strong>struct</strong> <font color="#2040a0">bst_node</font><font color="#4444FF">*</font><font color="#4444FF">*</font> <font color="#2040a0">node</font><font color="#4444FF">)</font><font color="#4444FF">;</font>
<font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:delete operation" href="Binary_search_tree_(C)#chunk use:delete operation">delete operation</a>&gt;&gt;=</b></font>
<strong>void</strong> <font color="#2040a0">delete</font><font color="#4444FF">(</font><strong>struct</strong> <font color="#2040a0">bst_node</font><font color="#4444FF">*</font><font color="#4444FF">*</font> <font color="#2040a0">node</font><font color="#4444FF">)</font> <font color="#4444FF"><strong>{</strong></font>
    <strong>struct</strong> <font color="#2040a0">bst_node</font><font color="#4444FF">*</font> <font color="#2040a0">old_node</font> <font color="#4444FF">=</font> <font color="#4444FF">*</font><font color="#2040a0">node</font><font color="#4444FF">;</font>
    <strong>if</strong> <font color="#4444FF">(</font><font color="#4444FF">(</font><font color="#4444FF">*</font><font color="#2040a0">node</font><font color="#4444FF">)</font><font color="#4444FF">-</font><font color="#4444FF">&gt;</font><font color="#2040a0">left</font> <font color="#4444FF">=</font><font color="#4444FF">=</font> <font color="#2040a0">NULL</font><font color="#4444FF">)</font> <font color="#4444FF"><strong>{</strong></font>
        <font color="#4444FF">*</font><font color="#2040a0">node</font> <font color="#4444FF">=</font> <font color="#4444FF">(</font><font color="#4444FF">*</font><font color="#2040a0">node</font><font color="#4444FF">)</font><font color="#4444FF">-</font><font color="#4444FF">&gt;</font><font color="#2040a0">right</font><font color="#4444FF">;</font>
        <font color="#2040a0">free_node</font><font color="#4444FF">(</font><font color="#2040a0">old_node</font><font color="#4444FF">)</font><font color="#4444FF">;</font>
    <font color="#4444FF"><strong>}</strong></font> <strong>else</strong> <strong>if</strong> <font color="#4444FF">(</font><font color="#4444FF">(</font><font color="#4444FF">*</font><font color="#2040a0">node</font><font color="#4444FF">)</font><font color="#4444FF">-</font><font color="#4444FF">&gt;</font><font color="#2040a0">right</font> <font color="#4444FF">=</font><font color="#4444FF">=</font> <font color="#2040a0">NULL</font><font color="#4444FF">)</font> <font color="#4444FF"><strong>{</strong></font>
        <font color="#4444FF">*</font><font color="#2040a0">node</font> <font color="#4444FF">=</font> <font color="#4444FF">(</font><font color="#4444FF">*</font><font color="#2040a0">node</font><font color="#4444FF">)</font><font color="#4444FF">-</font><font color="#4444FF">&gt;</font><font color="#2040a0">left</font><font color="#4444FF">;</font>
        <font color="#2040a0">free_node</font><font color="#4444FF">(</font><font color="#2040a0">old_node</font><font color="#4444FF">)</font><font color="#4444FF">;</font>
    <font color="#4444FF"><strong>}</strong></font> <strong>else</strong> <font color="#4444FF"><strong>{</strong></font>
        <span style="border: 1px solid #a0a0a0; padding: 0.05em 0.2em 0.03em 0.2em;"><font face="times" color="#000000"><a name="chunk use:delete node with two children" href="Binary_search_tree_(C)#chunk def:delete node with two children">delete node with two children</a></font></span>
    <font color="#4444FF"><strong>}</strong></font>
<font color="#4444FF"><strong>}</strong></font>
</pre>
<p>A node's <i>inorder predecessor</i> is the node whose value immediately precedes the node's value in sorted order. We can find this node by following right child pointers repeatedly starting at the node's left child. Similarly, the <i>inorder successor</i> immediately follows it in sorted order, and can be found by following left child pointers starting at the node's right child.
</p>
<pre>
<font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:find inorder predecessor" href="Binary_search_tree_(C)#chunk use:find inorder predecessor">find inorder predecessor</a>&gt;&gt;=</b></font>
<strong>struct</strong> <font color="#2040a0">bst_node</font><font color="#4444FF">*</font><font color="#4444FF">*</font> <font color="#2040a0">pred</font> <font color="#4444FF">=</font> <font color="#4444FF">&amp;</font><font color="#4444FF">(</font><font color="#4444FF">*</font><font color="#2040a0">node</font><font color="#4444FF">)</font><font color="#4444FF">-</font><font color="#4444FF">&gt;</font><font color="#2040a0">left</font><font color="#4444FF">;</font>
<strong>while</strong> <font color="#4444FF">(</font><font color="#4444FF">(</font><font color="#4444FF">*</font><font color="#2040a0">pred</font><font color="#4444FF">)</font><font color="#4444FF">-</font><font color="#4444FF">&gt;</font><font color="#2040a0">right</font> <font color="#4444FF">!</font><font color="#4444FF">=</font> <font color="#2040a0">NULL</font><font color="#4444FF">)</font> <font color="#4444FF"><strong>{</strong></font>
    <font color="#2040a0">pred</font> <font color="#4444FF">=</font> <font color="#4444FF">&amp;</font><font color="#4444FF">(</font><font color="#4444FF">*</font><font color="#2040a0">pred</font><font color="#4444FF">)</font><font color="#4444FF">-</font><font color="#4444FF">&gt;</font><font color="#2040a0">right</font><font color="#4444FF">;</font>
<font color="#4444FF"><strong>}</strong></font>
</pre>
<p>To delete a node with two children, as shown below, we simply exchange the value of the node with either its inorder predecessor or successor, then delete the node that we exchanged with. This preserves the order properties of the tree, and the predecessor/successor nodes always have at most one child, so we already know how to delete them. In this implementation, we choose to consistently use the predecessor.
</p><p><a href="http://en.literateprograms.org/Image:Binary_search_tree_delete.svg" class="image" title=""><img src="images/thumb/400px-Binary_search_tree_delete.svg.png" alt="" width="400" height="125" longdesc="/Image:Binary_search_tree_delete.svg" /></a>
</p>
<pre>
<font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:delete node with two children" href="Binary_search_tree_(C)#chunk use:delete node with two children">delete node with two children</a>&gt;&gt;=</b></font>
<span style="border: 1px solid #a0a0a0; padding: 0.05em 0.2em 0.03em 0.2em;"><font face="times" color="#000000"><a name="chunk use:find inorder predecessor" href="Binary_search_tree_(C)#chunk def:find inorder predecessor">find inorder predecessor</a></font></span>

<font color="#444444">/* Swap values */</font>
<strong>void</strong><font color="#4444FF">*</font> <font color="#2040a0">temp</font> <font color="#4444FF">=</font> <font color="#4444FF">(</font><font color="#4444FF">*</font><font color="#2040a0">pred</font><font color="#4444FF">)</font><font color="#4444FF">-</font><font color="#4444FF">&gt;</font><font color="#2040a0">data</font><font color="#4444FF">;</font>
<font color="#4444FF">(</font><font color="#4444FF">*</font><font color="#2040a0">pred</font><font color="#4444FF">)</font><font color="#4444FF">-</font><font color="#4444FF">&gt;</font><font color="#2040a0">data</font> <font color="#4444FF">=</font> <font color="#4444FF">(</font><font color="#4444FF">*</font><font color="#2040a0">node</font><font color="#4444FF">)</font><font color="#4444FF">-</font><font color="#4444FF">&gt;</font><font color="#2040a0">data</font><font color="#4444FF">;</font>
<font color="#4444FF">(</font><font color="#4444FF">*</font><font color="#2040a0">node</font><font color="#4444FF">)</font><font color="#4444FF">-</font><font color="#4444FF">&gt;</font><font color="#2040a0">data</font> <font color="#4444FF">=</font> <font color="#2040a0">temp</font><font color="#4444FF">;</font>

<font color="#2040a0">delete</font><font color="#4444FF">(</font><font color="#2040a0">pred</font><font color="#4444FF">)</font><font color="#4444FF">;</font>
</pre>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://en.literateprograms.org/Binary_search_tree_%28C%29?action=edit&amp;section=5" title="Edit section: Files">edit</a>]</div><a name="Files"></a><h2> Files </h2>
<p>We can place this implementation in a source and header file for reuse:
</p>
<pre>
<font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:bst.h" href="Binary_search_tree_(C)#chunk use:bst.h">bst.h</a>&gt;&gt;=</b></font>
<font color="#0000ff"><strong>#ifndef _BST_H_</strong></font>

<span style="border: 1px solid #a0a0a0; padding: 0.05em 0.2em 0.03em 0.2em;"><font face="times" color="#000000"><a name="chunk use:type definitions" href="Binary_search_tree_(C)#chunk def:type definitions">type definitions</a></font></span>
<span style="border: 1px solid #a0a0a0; padding: 0.05em 0.2em 0.03em 0.2em;"><font face="times" color="#000000"><a name="chunk use:node structure" href="Binary_search_tree_(C)#chunk def:node structure">node structure</a></font></span>
<span style="border: 1px solid #a0a0a0; padding: 0.05em 0.2em 0.03em 0.2em;"><font face="times" color="#000000"><a name="chunk use:declarations" href="Binary_search_tree_(C)#chunk def:declarations">declarations</a></font></span>

<font color="#0000ff"><strong>#endif</strong></font>

<font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:bst.c" href="Binary_search_tree_(C)#chunk use:bst.c">bst.c</a>&gt;&gt;=</b></font>
<span style="border: 1px solid #a0a0a0; padding: 0.05em 0.2em 0.03em 0.2em;"><font face="times" color="#000000"><a name="chunk use:header files" href="Binary_search_tree_(C)#chunk def:header files">header files</a></font></span>
<font color="#0000ff"><strong>#include <font color="#008000">&quot;bst.h&quot;</font></strong></font>

<span style="border: 1px solid #a0a0a0; padding: 0.05em 0.2em 0.03em 0.2em;"><font face="times" color="#000000"><a name="chunk use:search operation" href="Binary_search_tree_(C)#chunk def:search operation">search operation</a></font></span>
<span style="border: 1px solid #a0a0a0; padding: 0.05em 0.2em 0.03em 0.2em;"><font face="times" color="#000000"><a name="chunk use:insert operation" href="Binary_search_tree_(C)#chunk def:insert operation">insert operation</a></font></span>
<span style="border: 1px solid #a0a0a0; padding: 0.05em 0.2em 0.03em 0.2em;"><font face="times" color="#000000"><a name="chunk use:delete operation" href="Binary_search_tree_(C)#chunk def:delete operation">delete operation</a></font></span>
</pre>
<p>This completes the implementation.
</p>
<!-- Saved in parser cache with key moonflar_literateprogramsdb:pcache:idhash:1779-0!1!0!0!!en!2 and timestamp 20101004153038 -->
<table style="border:5px double;background-color:#D0FFE0;font-size:12pt;color:grey;width:100%">
<tr>
<td align="center"> <span class="plainlinks"><a href="http://en.literateprograms.org/Special:Downloadcode/Binary_search_tree_%28C%29" class='external text' title="http://en.literateprograms.org/Special:Downloadcode/Binary_search_tree_%28C%29" rel="nofollow">Download code</a></span>
</td></tr></table>
<div class="printfooter">
Retrieved from "<a href="http://en.literateprograms.org/Binary_search_tree_%28C%29">http://en.literateprograms.org/Binary_search_tree_%28C%29</a>"</div>
			<div id="catlinks"><p class='catlinks'><a href="http://en.literateprograms.org/Special:Categories?article=Binary_search_tree_%28C%29" title="Special:Categories">Categories</a>: <span dir='ltr'><a href="http://en.literateprograms.org/Category:Programming_language:C" title="Category:Programming language:C">Programming language:C</a></span> | <span dir='ltr'><a href="http://en.literateprograms.org/Category:Environment:Portable" title="Category:Environment:Portable">Environment:Portable</a></span> | <span dir='ltr'><a href="http://en.literateprograms.org/Category:Binary_search_tree" title="Category:Binary search tree">Binary search tree</a></span></p></div>			<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<ul>
				 <li id="ca-nstab-main" class="selected"><a href="http://en.literateprograms.org/Binary_search_tree_%28C%29">Article</a></li>
				 <li id="ca-talk"><a href="http://en.literateprograms.org/Talk:Binary_search_tree_%28C%29">Discussion</a></li>
				 <li id="ca-download"><a href="http://en.literateprograms.org/Special:Downloadcode/Binary_search_tree_%28C%29">Download code</a></li>
				 <li id="ca-edit"><a href="http://en.literateprograms.org/Binary_search_tree_%28C%29?action=edit">Edit</a></li>
				 <li id="ca-history"><a href="http://en.literateprograms.org/Binary_search_tree_%28C%29?action=history">History</a></li>
		</ul>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="http://en.literateprograms.org/Special:Userlogin?returnto=Binary_search_tree_(C)">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(/skins/common/images/LiteratePrograms_logo.png);" href="http://en.literateprograms.org/LiteratePrograms:Welcome" title="LiteratePrograms:Welcome"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpagesidebartext"><a href="http://en.literateprograms.org/LiteratePrograms:Welcome">Welcome</a></li>
				<li id="n-portal"><a href="http://en.literateprograms.org/LiteratePrograms:Community_Portal">Community portal</a></li>
				<li id="n-recentchanges"><a href="http://en.literateprograms.org/Special:Recentchanges">Recent changes</a></li>
				<li id="n-newarticles"><a href="http://en.literateprograms.org/Special:Newpages">New articles</a></li>
				<li id="n-randompage"><a href="http://en.literateprograms.org/Special:Random">Random article</a></li>
				<li id="n-help"><a href="http://en.literateprograms.org/Help:Contents">Help</a></li>
			</ul>
		</div>
	</div>
		<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="http://en.literateprograms.org/Special:Search" id="searchform"><div>
				<input id="searchInput" name="search" type="text" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" value="Search" />&nbsp;
				<input type='submit' name="create" class="searchButton" value="Create/Edit" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="http://en.literateprograms.org/Special:Whatlinkshere/Binary_search_tree_%28C%29">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="http://en.literateprograms.org/Special:Recentchangeslinked/Binary_search_tree_%28C%29">Related changes</a></li>
<li id="t-upload"><a href="http://en.literateprograms.org/Special:Upload">Upload file</a></li>
<li id="t-specialpages"><a href="http://en.literateprograms.org/Special:Specialpages">Special pages</a></li>
				<li id="t-print"><a href="http://en.literateprograms.org/Binary_search_tree_%28C%29?printable=yes">Printable version</a></li>				<li id="t-permalink"><a href="http://en.literateprograms.org/Binary_search_tree_%28C%29?oldid=15737">Permanent link</a></li>			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="skins/common/images/poweredby_mediawiki_88x31.png" alt="MediaWiki" /></a></div>
			<ul id="f-list">
				<li id="viewcount">This page has been accessed 39,696 times.</li>
				<li id="copyright">Content is available under the <a href="http://en.literateprograms.org/LiteratePrograms:Copyrights" title="LiteratePrograms:Copyrights">MIT/X11 License</a>.</li>
<br />				<li id="privacy"><a href="http://en.literateprograms.org/LiteratePrograms:Privacy_policy" title="LiteratePrograms:Privacy policy">Privacy policy</a></li>
				<li id="about"><a href="http://en.literateprograms.org/LiteratePrograms:About" title="LiteratePrograms:About">About LiteratePrograms</a></li>
				<li id="disclaimer"><a href="http://en.literateprograms.org/LiteratePrograms:General_disclaimer" title="LiteratePrograms:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
	<script type="text/javascript"> if (window.runOnloadHook) runOnloadHook();</script>
</div>
<!-- Served by host363.hostmonster.com in 0.52 secs. -->
</body></html>
