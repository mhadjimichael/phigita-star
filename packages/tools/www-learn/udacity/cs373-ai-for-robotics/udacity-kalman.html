<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Kalman for udacity</title>
<style type="text/css">
.titolo {
	font-family: Arial, Helvetica, sans-serif;
	font-size: 14px;
	font-weight: bold;
	color: #F00;
}
</style>
</head>

<body>
<div align="center">
<div style="width:800px; text-align:left; font-family: Arial, Helvetica, sans-serif ; font-size: 14px;">
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>- Modify the source code for question 2.32 like in this image:<br />
  <br />
  <img src="values/init.jpg" width="269" height="251" border="1" /><br />
</p>
<p>That is, add a couple of lines for printing x and P value after the measurement phase as well.</p>
<p>- Press the run button without submitting your code again which, hopeful, has already been valued as correct.</p>
<p>Now you get new values. So let's dive into it.</p>
<p class="titolo">initial_state)</p>
<p>Both the position and velocity are 0.<br />
  The uncertainty about them is very high, 1000.<br />
  This corresponds to a wide gaussian centred in the origin. <br />
  <br /><img src="diagrams/in.jpg"  />
  <br />
</p>
<p class="titolo">1.measurement)</p>
<p>After the first measurement your new values for x are close to 1 for the position (as you have just gotten a measure of 1 for it), and 0 for the velocity.<br />
  The new gaussian is just like the one prof. Thrun drew. It reflects the fact that we have gained some knowledwe of the position, while are still extremely unsure about the velocity.<br />
  So now we are in the same situation as in prof. Thrun's video, but only shifted on the right by 1 on the x axis. </p>
<table border="1">
  <tr>
    <td><img src="values/1m.jpg"  /></td>
    <td><img src="diagrams/1m.jpg"  /></td>
  </tr>
</table>
<p><br />
  Why is x just a little lower that 1? Because the uncertainty of the measurement is much lower than the one of the initial position. If you change the first value of P matrix to be 1., you will get a position of 0.5, which is just in the middle.</p>
<p class="titolo">1.prediction)</p>
<p>After this step, your average estimated position is 1 and velocity  0. <br />
  Your position, on the average, doesn't change because average velocity is 0.<br />
  But there is one thing that does improve: P matrix.<br />
  It now considers a relationship between x and velocity (correlation).<br />
  This is the only thing that avoids being stuck always in the same position.<br />
  The following figure shows it is just like the one drawn by prof. Thrun. </p><table border="1">
  <tr>
    <td><img src="values/1p.jpg" alt=""  /></td>
    <td><img src="diagrams/1p.jpg" alt=""  /></td>
  </tr>
</table><br />
</p>
<p class="titolo">2.measurement)</p>
<p>Now you have a new measurement for x, and it updates the estimated position, just the way Thrun showed in his video.</p><table border="1">
  <tr>
    <td><img src="values/2m.jpg"  /></td>
    <td><img src="diagrams/2m.jpg"  /></td>
  </tr>
</table> </p>
<p>I want to remark just a difference to what drawn by the prof.<br />
  The measurement, as he correctly stated, doesn't say anything about the velocity.<br />
  So it cannot correspond to an elongated gaussian, as would say not much, but still something about velocity.<br />
  As a matter of a fact the information we now get is one dimensional and I drew it as a little gaussian on the x axis.<br />
  The matrix who stores measurement uncertainty is R, which is 1x1.<br />
  It manages to modify P, the way represented in the image, just by mean of all complex matrix operations.<br />
  <br />
</p>
<p class="titolo">2.prediction)</p>
<p>Now for x and velocity, everything gets easier.<br />
  We can predict a value of about 3 for x and 1 for the velocity.<br />
  As to P matrix, prediction just stretches the gaussian a little bit like before.</p><table border="1">
  <tr>
    <td><img src="values/2p.jpg"  /></td>
    <td><img src="diagrams/2p.jpg"  /></td>
  </tr>
</table>
<p>I want to show you the modification of the P matrix with the help of this webpage which calculates eigenvalues.<br />
http://www.arndt-bruenner.de/mathe/scripts/engl_eigenwert.htm</p>
<p>For the P matrix after the measurement we get:</p>
<p>Real eigenvalues:<br />
  {0.2192053908802083, 2.27754947681803}<br />
  Eigenvector of eigenvalue 0.2192053908802083: <br />
  (-0.7881330268666942, 0.6155049406478739)<br />
  Eigenvector of eigenvalue 2.27754947681803: <br />
  (0.615504940647883, 0.788133026866687)<br />
</p>
<p>For P after the prediction:</p>
<p>Real eigenvalues:<br />
  {0.08451864279326937, 5.906994088109875}<br />
  Eigenvector of eigenvalue 0.08451864279326937: <br />
  (-0.4926668234184531, 0.8702180192933096)<br />
  Eigenvector of eigenvalue 5.906994088109875: <br />
  (0.8702180192933117, 0.4926668234184494)</p>
<p>Please notice how the prediction phase doesn't modify the discriminant of P.<br />
</p>
<p class="titolo">3.measurement)<br />
</p>
<table border="1">
  <tr>
    <td><img src="values/3m.jpg"  /></td>
    <td><img src="diagrams/3m.jpg"  /></td>
  </tr>
</table>&nbsp;</p>
<p class="titolo">3.prediction)<br />
</p>
<table border="1">
  <tr>
    <td><img src="values/3p.jpg"  /></td>
    <td><img src="diagrams/3p.jpg"  /></td>
  </tr>
</table> </p>
<p>&nbsp;</p>
<p></p>
<p>&nbsp;</p></div></div>
powered by <a href="http://www.motoreitaliano.net">motoreitaliano</a></div>
</body>
</html>
