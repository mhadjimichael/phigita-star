<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" dir="ltr">
<head>
<title>Segment tree - Wikipedia, the free encyclopedia</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta name="generator" content="MediaWiki 1.16wmf4" />
<link rel="alternate" type="application/x-wiki" title="Edit this page" href="http://en.wikipedia.org/w/index.php?title=Segment_tree&amp;action=edit" />
<link rel="edit" title="Edit this page" href="http://en.wikipedia.org/w/index.php?title=Segment_tree&amp;action=edit" />
<link rel="apple-touch-icon" href="http://en.wikipedia.org/apple-touch-icon.png" />
<link rel="shortcut icon" href="http://en.wikipedia.org/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="http://en.wikipedia.org/w/opensearch_desc.php" title="Wikipedia (en)" />
<link rel="copyright" href="http://creativecommons.org/licenses/by-sa/3.0/" />
<link rel="alternate" type="application/atom+xml" title="Wikipedia Atom feed" href="http://en.wikipedia.org/w/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="http://bits.wikimedia.org/skins-1.5/vector/main-ltr.css?283-4" type="text/css" media="screen" />
<link rel="stylesheet" href="http://bits.wikimedia.org/skins-1.5/common/shared.css?283-4" type="text/css" media="screen" />
<link rel="stylesheet" href="http://bits.wikimedia.org/skins-1.5/common/commonPrint.css?283-4" type="text/css" media="print" />
<link rel="stylesheet" href="http://bits.wikimedia.org/w/extensions/UsabilityInitiative/css/combined.min.css?117" type="text/css" media="all" />
<link rel="stylesheet" href="http://bits.wikimedia.org/w/extensions/UsabilityInitiative/css/vector/jquery-ui-1.7.2.css?1.7.2y" type="text/css" media="all" />
<link rel="stylesheet" href="http://en.wikipedia.org/w/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" media="all" />
<link rel="stylesheet" href="http://en.wikipedia.org/w/index.php?title=MediaWiki:Print.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" media="print" />
<link rel="stylesheet" href="http://en.wikipedia.org/w/index.php?title=MediaWiki:Handheld.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" media="handheld" />
<link rel="stylesheet" href="http://en.wikipedia.org/w/index.php?title=MediaWiki:Vector.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=2678400&amp;action=raw&amp;maxage=2678400" type="text/css" media="all" />
<link rel="stylesheet" href="http://en.wikipedia.org/w/index.php?title=-&amp;action=raw&amp;maxage=2678400&amp;gen=css" type="text/css" media="all" />
<script type="text/javascript">
var skin="vector",
stylepath="http://bits.wikimedia.org/skins-1.5",
wgUrlProtocols="http\\:\\/\\/|https\\:\\/\\/|ftp\\:\\/\\/|irc\\:\\/\\/|gopher\\:\\/\\/|telnet\\:\\/\\/|nntp\\:\\/\\/|worldwind\\:\\/\\/|mailto\\:|news\\:|svn\\:\\/\\/",
wgArticlePath="/wiki/$1",
wgScriptPath="/w",
wgScriptExtension=".php",
wgScript="/w/index.php",
wgVariantArticlePath=false,
wgActionPaths={},
wgServer="http://en.wikipedia.org",
wgCanonicalNamespace="",
wgCanonicalSpecialPageName=false,
wgNamespaceNumber=0,
wgPageName="Segment_tree",
wgTitle="Segment tree",
wgAction="view",
wgArticleId=13682464,
wgIsArticle=true,
wgUserName=null,
wgUserGroups=null,
wgUserLanguage="en",
wgContentLanguage="en",
wgBreakFrames=false,
wgCurRevisionId=383049926,
wgVersion="1.16wmf4",
wgEnableAPI=true,
wgEnableWriteAPI=true,
wgSeparatorTransformTable=["", ""],
wgDigitTransformTable=["", ""],
wgMainPageTitle="Main Page",
wgFormattedNamespaces={"-2": "Media", "-1": "Special", "0": "", "1": "Talk", "2": "User", "3": "User talk", "4": "Wikipedia", "5": "Wikipedia talk", "6": "File", "7": "File talk", "8": "MediaWiki", "9": "MediaWiki talk", "10": "Template", "11": "Template talk", "12": "Help", "13": "Help talk", "14": "Category", "15": "Category talk", "100": "Portal", "101": "Portal talk", "108": "Book", "109": "Book talk"},
wgNamespaceIds={"media": -2, "special": -1, "": 0, "talk": 1, "user": 2, "user_talk": 3, "wikipedia": 4, "wikipedia_talk": 5, "file": 6, "file_talk": 7, "mediawiki": 8, "mediawiki_talk": 9, "template": 10, "template_talk": 11, "help": 12, "help_talk": 13, "category": 14, "category_talk": 15, "portal": 100, "portal_talk": 101, "book": 108, "book_talk": 109, "wp": 4, "wt": 5, "image": 6, "image_talk": 7},
wgSiteName="Wikipedia",
wgCategories=["Articles needing additional references from November 2007", "All articles needing additional references", "Articles to be expanded from November 2007", "All articles to be expanded", "Trees (structure)", "Binary trees", "Computer graphics data structures"],
wgDBname="enwiki",
wgMWSuggestTemplate="http://en.wikipedia.org/w/api.php?action=opensearch\x26search={searchTerms}\x26namespace={namespaces}\x26suggest",
wgSearchNamespaces=[0],
wgMWSuggestMessages=["with suggestions", "no suggestions"],
wgRestrictionEdit=[],
wgRestrictionMove=[],
wgFlaggedRevsParams={"tags": {"status": {"levels": 1, "quality": 2, "pristine": 3}}},
wgStableRevisionId=0,
wgWikimediaMobileUrl="http://en.m.wikipedia.org/wiki",
wgCollapsibleNavBucketTest=false,
wgCollapsibleNavForceNewVersion=false,
wgVectorPreferences={"collapsiblenav": {"enable": 1}, "editwarning": {"enable": 1}, "simplesearch": {"enable": 1, "disablesuggest": 0}},
wgVectorEnabledModules={"collapsiblenav": true, "collapsibletabs": true, "editwarning": true, "expandablesearch": false, "footercleanup": false, "simplesearch": true},
wgArticleAssessmentJUIPath="http://bits.wikimedia.org/w/extensions/UsabilityInitiative/js/js2stopgap/jui.combined.min.js",
Geo={"city": "", "country": ""},
wgNoticeProject="wikipedia";
</script><script src="http://bits.wikimedia.org/skins-1.5/common/wikibits.js?283-4" type="text/javascript"></script>
<script type="text/javascript" src="http://bits.wikimedia.org/skins-1.5/common/jquery.min.js?283-4"></script>
<script src="http://bits.wikimedia.org/skins-1.5/common/ajax.js?283-4" type="text/javascript"></script>
<script src="http://bits.wikimedia.org/skins-1.5/common/mwsuggest.js?283-4" type="text/javascript"></script>
<script src="http://bits.wikimedia.org/w/extensions/WikimediaMobile/MobileRedirect.js?2.2" type="text/javascript"></script>
<script src="http://bits.wikimedia.org/w/extensions/UsabilityInitiative/js/plugins.combined.min.js?283-4" type="text/javascript"></script>
<script src="http://bits.wikimedia.org/w/extensions/UsabilityInitiative/Vector/Vector.combined.min.js?283-4" type="text/javascript"></script>
<script type="text/javascript">mw.usability.addMessages({'vector-collapsiblenav-more':'More languages','vector-editwarning-warning':'Leaving this page may cause you to lose any changes you have made.\nIf you are logged in, you can disable this warning in the \"Editing\" section of your preferences.','vector-simplesearch-search':'Search','vector-simplesearch-containing':'containing...'});</script>
<script src="http://en.wikipedia.org/wiki/Special:BannerController?283-4" type="text/javascript"></script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/w/skins-1.5/vector/csshover.htc")}</style><![endif]-->
<script src="http://en.wikipedia.org/w/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=vector&amp;283-4" type="text/javascript"></script>

</head>
<body class="mediawiki ltr ns-0 ns-subject page-Segment_tree skin-vector">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<!-- content -->
		<div id="content">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- sitenotice -->
			<div id="siteNotice"><!-- centralNotice loads here --></div>
			<!-- /sitenotice -->
						<!-- firstHeading -->
			<h1 id="firstHeading" class="firstHeading">Segment tree</h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent">
				<!-- tagline -->
				<div id="siteSub">From Wikipedia, the free encyclopedia</div>
				<!-- /tagline -->
				<!-- subtitle -->
				<div id="contentSub"></div>
				<!-- /subtitle -->
																<!-- jumpto -->
				<div id="jump-to-nav">
					Jump to: <a href="Segment_tree#mw-head">navigation</a>,
					<a href="Segment_tree#p-search">search</a>
				</div>
				<!-- /jumpto -->
								<!-- bodytext -->
				<table class="metadata plainlinks ambox ambox-content" style="">
<tr>
<td class="mbox-image">
<div style="width: 52px;"><a href="http://en.wikipedia.org/wiki/File:Question_book-new.svg" class="image"><img alt="Question book-new.svg" src="http://upload.wikimedia.org/wikipedia/en/thumb/9/99/Question_book-new.svg/50px-Question_book-new.svg.png" width="50" height="39" /></a></div>
</td>
<td class="mbox-text" style="">This article <b>relies largely or entirely upon a <a href="http://en.wikipedia.org/wiki/Wikipedia:Reliable_sources" title="Wikipedia:Reliable sources" class="mw-redirect">single source</a></b>. Please help <a href="http://en.wikipedia.org/w/index.php?title=Segment_tree&amp;action=edit" class="external text" rel="nofollow">improve this article</a> by introducing appropriate <a href="http://en.wikipedia.org/wiki/Wikipedia:Citing_sources" title="Wikipedia:Citing sources">citations</a> to additional sources. <small><i>(November 2007)</i></small></td>
</tr>
</table>
<p>In <a href="http://en.wikipedia.org/wiki/Computer_science" title="Computer science">computer science</a>, a <b>segment tree</b> is a <a href="http://en.wikipedia.org/wiki/Tree_(data_structure)" title="Tree (data structure)">tree</a> <a href="http://en.wikipedia.org/wiki/Data_structure" title="Data structure">data structure</a> for storing <a href="http://en.wikipedia.org/wiki/Interval_(mathematics)" title="Interval (mathematics)">intervals</a>, or segments. It allows querying which of the stored segments contain a given point. It is, in principle, a static structure; that is, its content cannot be modified once the structure is built. A similar data structure is the <a href="http://en.wikipedia.org/wiki/Interval_tree" title="Interval tree">interval tree</a>.</p>
<p>A segment tree for a set <i>I</i> of <i>n</i> intervals uses <a href="http://en.wikipedia.org/wiki/Big_O_notation" title="Big O notation">O</a>(<i>n</i> log <i>n</i>) storage and can be built in O(<i>n</i> log <i>n</i>) time. Segment trees support searching for all the intervals that contain a query point in O(log <i>n</i> + <i>k</i>), <i>k</i> being the number of retrieved intervals or segments <sup id="cite_ref-Schwarzkopf1_0-0" class="reference"><a href="Segment_tree#cite_note-Schwarzkopf1-0"><span>[</span>1<span>]</span></a></sup>.</p>
<p>Applications of the segment tree are in the areas of <a href="http://en.wikipedia.org/wiki/Computational_geometry" title="Computational geometry">computational geometry</a>, and <a href="http://en.wikipedia.org/wiki/Geographic_information_systems" title="Geographic information systems" class="mw-redirect">geographic information systems</a>.</p>
<p>The segment tree can be generalized to higher <a href="http://en.wikipedia.org/wiki/Dimension" title="Dimension">dimension</a> spaces as well.</p>
<table id="toc" class="toc">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Segment_tree#Structure_description"><span class="tocnumber">1</span> <span class="toctext">Structure description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Segment_tree#Storage_requirements"><span class="tocnumber">2</span> <span class="toctext">Storage requirements</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="Segment_tree#Construction"><span class="tocnumber">3</span> <span class="toctext">Construction</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="Segment_tree#Query"><span class="tocnumber">4</span> <span class="toctext">Query</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="Segment_tree#Generalization_for_higher_dimensions"><span class="tocnumber">5</span> <span class="toctext">Generalization for higher dimensions</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="Segment_tree#Notes"><span class="tocnumber">6</span> <span class="toctext">Notes</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="Segment_tree#History"><span class="tocnumber">7</span> <span class="toctext">History</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="Segment_tree#References"><span class="tocnumber">8</span> <span class="toctext">References</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<h2><span class="editsection">[<a href="http://en.wikipedia.org/w/index.php?title=Segment_tree&amp;action=edit&amp;section=1" title="Edit section: Structure description">edit</a>]</span> <span class="mw-headline" id="Structure_description">Structure description</span></h2>
<p><i>This section describes the structure of a segment tree in a one-dimensional space.</i></p>
<p>Let <i>S</i> be a set of intervals, or segments. Let <i>p</i><sub>1</sub>, <i>p</i><sub>2</sub>, ..., <i>p<sub>m</sub></i> be the list of distinct interval endpoints, sorted from left to right. Consider the partitioning of the real line induced by those points. The regions of this partitioning are called <i>elementary intervals</i>. Thus, the elementary intervals are, from left to right:</p>
<dl>
<dd><img class="tex" alt="(-\infty, p_1), [p_1,p_1], (p_1, p_2), [p_2, p_2], ..., (p_{m-1}, p_m), [p_m, p_m], (p_m, +\infty)" src="http://upload.wikimedia.org/math/8/0/3/8039f9d2875aea07fe90546a97427737.png" /></dd>
</dl>
<p>That is, the list of elementary intervals consists of open intervals between two consecutive endpoints <i>p<sub>i</sub></i> and <i>p</i><sub><i>i</i>+1</sub>, alternated with closed intervals consisting of a single endpoint. Single points are treated themselves as intervals because the answer to a query is not necessarily the same at the interior of an elementary interval and its endpoints <sup id="cite_ref-1" class="reference"><a href="Segment_tree#cite_note-1"><span>[</span>2<span>]</span></a></sup>.</p>
<div class="thumb tright">
<div class="thumbinner" style="width:420px;"><a href="http://en.wikipedia.org/wiki/File:Segment_tree_instance.gif" class="image"><img alt="" src="http://upload.wikimedia.org/wikipedia/en/e/e5/Segment_tree_instance.gif" width="418" height="324" class="thumbimage" /></a>
<div class="thumbcaption">Graphic example of the structure of the segment tree. This instance is built for the segments shown at the bottom.</div>
</div>
</div>
<p>Given a set <i>I</i> of intervals, or segments, a segment tree <i>T</i> for <i>I</i> is structured as follows:</p>
<ul>
<li><i>T</i> is a <a href="http://en.wikipedia.org/wiki/Binary_tree" title="Binary tree">binary tree</a>.</li>
<li>Its <a href="http://en.wikipedia.org/wiki/Leaf_node" title="Leaf node">leafs</a> correspond to the elementary intervals induced by the endpoints in <i>I</i>, in an ordered way: the leftmost leaf corresponds to the leftmost interval, and so on. The elementary intervals corresponding to a leaf <i>v</i> is denoted Int(<i>v</i>).</li>
<li>The <a href="http://en.wikipedia.org/wiki/Internal_node" title="Internal node" class="mw-redirect">internal nodes</a> of <i>T</i> corresponds to intervals that are the <a href="http://en.wikipedia.org/wiki/Union_(set_theory)" title="Union (set theory)">union</a> of elementary intervals: the interval Int(<i>N</i>) corresponding to node <i>N</i> is the union of the intervals corresponding to the leafs of the tree rooted at <i>N</i>. That implies that Int(<i>N</i>) is the union of the intervals of its two children.</li>
<li>Each node or leaf <i>v</i> in <i>T</i> stores the interval Int(<i>v</i>) and a set of intervals, in some data structure. This canonical subset of node <i>v</i> contains the intervals [<i>x</i>, <i>x′</i>] from <i>I</i> such that [<i>x</i>, <i>x′</i>] contains Int(<i>v</i>) and does not contain Int(parent(<i>v</i>)). That is, each segment in <i>I</i> stores the segments that span through its interval, but does not span through the interval of any parent <sup id="cite_ref-2" class="reference"><a href="Segment_tree#cite_note-2"><span>[</span>3<span>]</span></a></sup>.</li>
</ul>
<h2><span class="editsection">[<a href="http://en.wikipedia.org/w/index.php?title=Segment_tree&amp;action=edit&amp;section=2" title="Edit section: Storage requirements">edit</a>]</span> <span class="mw-headline" id="Storage_requirements">Storage requirements</span></h2>
<p><i>This section analyzes the storage cost of a segment tree in a one-dimensional space.</i></p>
<p>A segment tree <i>T</i> on a set <i>I</i> of <i>n</i> intervals uses O(<i>n</i>log<i>n</i>) storage.</p>
<dl>
<dd><i>Proof:</i></dd>
</dl>
<dl>
<dd><i>Lemma</i>: Any interval [<i>x</i>, <i>x′</i>] of <i>I</i> is stored in the canonical set for at most two nodes at the same depth.</dd>
</dl>
<dl>
<dd>
<dl>
<dd><i>Proof</i>: Let <i>v</i><sub>1</sub>, <i>v</i><sub>2</sub>, <i>v</i><sub>3</sub> be the three nodes at the same depth, numbered from left to right; and let <i>w</i> be the parent node of <i>v</i><sub>2</sub>. Suppose [<i>x</i>, <i>x′</i>] is stored at <i>v</i><sub>1</sub> and <i>v</i><sub>3</sub>. This means that [<i>x</i>, <i>x′</i>] spans the whole interval from the left endpoint of Int(<i>v</i><sub>1</sub>) to the right endpoint of Int(<i>v</i><sub>3</sub>). Because <i>v</i><sub>2</sub> lies between <i>v</i><sub>1</sub> and <i>v</i><sub>3</sub>, Int(<i>w</i>) must be contained in [<i>x</i>, <i>x′</i>]. Hence, [<i>x</i>, <i>x′</i>] will not be stored at <i>v</i><sub>2</sub>.</dd>
</dl>
</dd>
</dl>
<dl>
<dd>The set <i>I</i> has at most 4<i>n</i> + 1 elementary intervals. Because <i>T</i> is a binary balanced tree with at most 4<i>n</i> + 1 leaves, its height is O(log<i>n</i>). Since any interval is stored at most twice at a given depth of the tree, that the total amount of storage is O(<i>n</i>log<i>n</i>) <sup id="cite_ref-Schwarzkopf2_3-0" class="reference"><a href="Segment_tree#cite_note-Schwarzkopf2-3"><span>[</span>4<span>]</span></a></sup>.</dd>
</dl>
<h2><span class="editsection">[<a href="http://en.wikipedia.org/w/index.php?title=Segment_tree&amp;action=edit&amp;section=3" title="Edit section: Construction">edit</a>]</span> <span class="mw-headline" id="Construction">Construction</span></h2>
<p><i>This section describes the construction of a segment tree in a one-dimensional space.</i></p>
<p>A segment tree from the set of segments <i>I</i>, can be built as follows. First, the endpoints of the intervals in <i>I</i> are sorted. The elementary intervals are obtained from that. Then, a balanced binary tree is built on the elementary intervals, and for each node <i>v</i> it is determined the interval Int(<i>v</i>) it represents. It remains to compute the canonical subsets for the nodes. To achieve this, the intervals in <i>I</i> are inserted one by one into the segment tree. An interval <i>X</i> = [<i>x</i>, <i>x′</i>] can be inserted in a subtree rooted at <i>T</i>, using the following procedure <sup id="cite_ref-4" class="reference"><a href="Segment_tree#cite_note-4"><span>[</span>5<span>]</span></a></sup>:</p>
<ul>
<li>If Int(<i>T</i>) is contained in <i>X</i> then store <i>X</i> at <i>T</i>, and finish.</li>
<li>Else:</li>
<li>If <i>X</i> intersects the canonical subset of the left child of <i>T</i>, then insert <i>X</i> in that child, recursively.</li>
<li>If <i>X</i> intersects the canonical subset of the right child of <i>T</i>, then insert <i>X</i> in that child, recursively.</li>
</ul>
<p>The complete construction operation takes O(<i>n</i>log<i>n</i>) time, being n the amount of segments in <i>I</i>.</p>
<dl>
<dd><i>Proof</i></dd>
</dl>
<dl>
<dd>Sorting the endpoints takes O(<i>n</i>log<i>n</i>). Building a balanced binary tree from the sorted endpoints, takes linear time on <i>n</i>.</dd>
<dd>The insertion of an interval <i>X</i> = [<i>x</i>, <i>x′</i>] into the tree, costs O(log<i>n</i>).
<dl>
<dd><i>Proof:</i> Visiting every node takes constant time (assuming that canonical subsets are stored in a simple data structure like a <a href="http://en.wikipedia.org/wiki/Linked_list" title="Linked list">linked list</a>). When we visit node <i>v</i>, we either store <i>X</i> at <i>v</i>, or Int(<i>v</i>) contains an endpoint of <i>X</i>. As proved above, an interval is stored at most twice at each level of the tree. There is also at most one node at every level whose corresponding interval contains <i>x</i>, and one node whose interval contains <i>x′</i>. So, at most four nodes per level are visited. Since there are O(log<i>n</i>) levels, the total cost of the insertion is <i>O(</i>log<i>n</i>) <sup id="cite_ref-Schwarzkopf1_0-1" class="reference"><a href="Segment_tree#cite_note-Schwarzkopf1-0"><span>[</span>1<span>]</span></a></sup>.</dd>
</dl>
</dd>
</dl>
<h2><span class="editsection">[<a href="http://en.wikipedia.org/w/index.php?title=Segment_tree&amp;action=edit&amp;section=4" title="Edit section: Query">edit</a>]</span> <span class="mw-headline" id="Query">Query</span></h2>
<p><i>This section describes the query operation of a segment tree in a one-dimensional space.</i></p>
<p>A query for a segment tree, receives a point <i>q<sub>x</sub></i>, and retrieves a list of all the segments stored which contain the point <i>q<sub>x</sub></i>.</p>
<p>Formally stated; given a node (subtree) <i>v</i> and a query point <i>q<sub>x</sub></i>, the query can be done using the following algorithm:</p>
<ul>
<li>Report all the intervals in I(<i>v</i>).</li>
<li>If <i>v</i> is not a leaf:
<ul>
<li>If <i>q<sub>x</sub></i> is in Int(left child of <i>v</i>) then
<ul>
<li>Perform a query in the left child of <i>v</i>.</li>
</ul>
</li>
<li>Else
<ul>
<li>Perform a query in the right child of <i>v</i>.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>In a segment tree that contains <i>n</i> intervals, those containing a given query point can be reported in O(log<i>n</i> + <i>k</i>) time, where <i>k</i> is the number of reported intervals.</p>
<dl>
<dd><i>Proof:</i> The query algorithm visits one node per level of the tree, so O(log<i>n</i>) nodes in total. In the other hand, at a node <i>v</i>, the segments in <i>I</i> are reported in O(1 + <i>k<sub>v</sub></i>) time, where <i>k<sub>v</sub></i> is the number of intervals at node <i>v</i>, reported. The sum of all the <i>k<sub>v</sub></i> for all nodes <i>v</i> visited, is <i>k</i>, the number of reported segments. <sup id="cite_ref-Schwarzkopf2_3-1" class="reference"><a href="Segment_tree#cite_note-Schwarzkopf2-3"><span>[</span>4<span>]</span></a></sup>.</dd>
</dl>
<h2><span class="editsection">[<a href="http://en.wikipedia.org/w/index.php?title=Segment_tree&amp;action=edit&amp;section=5" title="Edit section: Generalization for higher dimensions">edit</a>]</span> <span class="mw-headline" id="Generalization_for_higher_dimensions">Generalization for higher dimensions</span></h2>
<p>The segment tree can be generalized to higher dimension spaces, in the form of multi-level segment trees. In higher dimension versions, the segment tree stores a collection of axis-parallel (hyper-)rectangles, and can retrieve the rectangles that contain a given query point. The structure uses O(<i>n</i>log<sup><i>d</i>-1</sup><i>n</i>) storage, and answers queries in O(log<i><sup>d</sup></i>n<i>).</i></p>
<p>The use of <a href="http://en.wikipedia.org/wiki/Fractional_cascading" title="Fractional cascading">fractional cascading</a> lowers the query time bound by a logarithmic factor. The use of the <a href="http://en.wikipedia.org/wiki/Interval_tree" title="Interval tree">interval tree</a> on the deepest level of associated structures lowers the storage bound with a logarithmic factor. <sup id="cite_ref-Schwarzkopf3_5-0" class="reference"><a href="Segment_tree#cite_note-Schwarzkopf3-5"><span>[</span>6<span>]</span></a></sup></p>
<h2><span class="editsection">[<a href="http://en.wikipedia.org/w/index.php?title=Segment_tree&amp;action=edit&amp;section=6" title="Edit section: Notes">edit</a>]</span> <span class="mw-headline" id="Notes">Notes</span></h2>
<p>The query that asks for all the intervals containing a given point, is often referred as <i>stabbing query</i> <sup id="cite_ref-Schwarzkopf4_6-0" class="reference"><a href="Segment_tree#cite_note-Schwarzkopf4-6"><span>[</span>7<span>]</span></a></sup>.</p>
<p>The segment tree is less efficient than the interval tree for range queries in one dimension, due to its higher storage requirement: O(<i>n</i>log<i>n</i>) against the O(<i>n</i>) of the interval tree. The importance of the segment tree is that the segments within each node’s canonical subset can be stored in any arbitrary manner <sup id="cite_ref-Schwarzkopf4_6-1" class="reference"><a href="Segment_tree#cite_note-Schwarzkopf4-6"><span>[</span>7<span>]</span></a></sup>.</p>
<p>Another plus of the segment tree, is that it can easily be adapted to counting queries; that is, report the number of segments containing a given point, instead of reporting the segments themselves. Instead of storing the intervals in the canonical subsets, it can simply be stored an integer representing their amount. Such a segment tree uses linear storage, and requires an O(log <i>n</i>) query time, so it is optimal.<sup id="cite_ref-7" class="reference"><a href="Segment_tree#cite_note-7"><span>[</span>8<span>]</span></a></sup></p>
<p>A version for higher dimensions of the interval tree and the <a href="http://en.wikipedia.org/w/index.php?title=Priority_search_tree&amp;action=edit&amp;redlink=1" class="new" title="Priority search tree (page does not exist)">priority search tree</a> does not exist, that is, there is no clear extension of these structures that solves the analogous problem in higher dimensions. But the structures can be used as associated structure of segment trees. <sup id="cite_ref-Schwarzkopf3_5-1" class="reference"><a href="Segment_tree#cite_note-Schwarzkopf3-5"><span>[</span>6<span>]</span></a></sup></p>
<h2><span class="editsection">[<a href="http://en.wikipedia.org/w/index.php?title=Segment_tree&amp;action=edit&amp;section=7" title="Edit section: History">edit</a>]</span> <span class="mw-headline" id="History">History</span></h2>
<table class="metadata plainlinks ambox mbox-small-left ambox-notice" style="">
<tr>
<td class="mbox-image"><a href="http://en.wikipedia.org/wiki/File:Wiki_letter_w.svg" class="image"><img alt="Wiki letter w.svg" src="http://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Wiki_letter_w.svg/20px-Wiki_letter_w.svg.png" width="20" height="20" /></a></td>
<td class="mbox-text" style="">This section requires <a href="http://en.wikipedia.org/w/index.php?title=Segment_tree&amp;action=edit" class="external text" rel="nofollow">expansion</a>.</td>
</tr>
</table>
<p>The segment tree was discovered by J. L. Bentley in 1977; in "Solutions to Klee’s rectangle problems" <sup id="cite_ref-Schwarzkopf4_6-2" class="reference"><a href="Segment_tree#cite_note-Schwarzkopf4-6"><span>[</span>7<span>]</span></a></sup>.</p>
<h2><span class="editsection">[<a href="http://en.wikipedia.org/w/index.php?title=Segment_tree&amp;action=edit&amp;section=8" title="Edit section: References">edit</a>]</span> <span class="mw-headline" id="References">References</span></h2>
<div class="references-small" style="">
<ol class="references">
<li id="cite_note-Schwarzkopf1-0">^ <a href="Segment_tree#cite_ref-Schwarzkopf1_0-0"><sup><i><b>a</b></i></sup></a> <a href="Segment_tree#cite_ref-Schwarzkopf1_0-1"><sup><i><b>b</b></i></sup></a> (<a href="Segment_tree#CITEREFde_Berg.2C_van_Kreveld.2C_Overmars.2C_Schwarzkopf2000">de Berg, van Kreveld, Overmars, Schwarzkopf 2000</a>, p.&#160;227)</li>
<li id="cite_note-1"><b><a href="Segment_tree#cite_ref-1">^</a></b> (<a href="Segment_tree#CITEREFde_Berg.2C_van_Kreveld.2C_Overmars.2C_Schwarzkopf2000">de Berg, van Kreveld, Overmars, Schwarzkopf 2000</a>, p.&#160;224)</li>
<li id="cite_note-2"><b><a href="Segment_tree#cite_ref-2">^</a></b> (<a href="Segment_tree#CITEREFde_Berg.2C_van_Kreveld.2C_Overmars.2C_Schwarzkopf2000">de Berg, van Kreveld, Overmars, Schwarzkopf 2000</a>, pp.&#160;225–226)</li>
<li id="cite_note-Schwarzkopf2-3">^ <a href="Segment_tree#cite_ref-Schwarzkopf2_3-0"><sup><i><b>a</b></i></sup></a> <a href="Segment_tree#cite_ref-Schwarzkopf2_3-1"><sup><i><b>b</b></i></sup></a> (<a href="Segment_tree#CITEREFde_Berg.2C_van_Kreveld.2C_Overmars.2C_Schwarzkopf2000">de Berg, van Kreveld, Overmars, Schwarzkopf 2000</a>, p.&#160;226)</li>
<li id="cite_note-4"><b><a href="Segment_tree#cite_ref-4">^</a></b> (<a href="Segment_tree#CITEREFde_Berg.2C_van_Kreveld.2C_Overmars.2C_Schwarzkopf2000">de Berg, van Kreveld, Overmars, Schwarzkopf 2000</a>, pp.&#160;226–227)</li>
<li id="cite_note-Schwarzkopf3-5">^ <a href="Segment_tree#cite_ref-Schwarzkopf3_5-0"><sup><i><b>a</b></i></sup></a> <a href="Segment_tree#cite_ref-Schwarzkopf3_5-1"><sup><i><b>b</b></i></sup></a> (<a href="Segment_tree#CITEREFde_Berg.2C_van_Kreveld.2C_Overmars.2C_Schwarzkopf2000">de Berg, van Kreveld, Overmars, Schwarzkopf 2000</a>, p.&#160;230)</li>
<li id="cite_note-Schwarzkopf4-6">^ <a href="Segment_tree#cite_ref-Schwarzkopf4_6-0"><sup><i><b>a</b></i></sup></a> <a href="Segment_tree#cite_ref-Schwarzkopf4_6-1"><sup><i><b>b</b></i></sup></a> <a href="Segment_tree#cite_ref-Schwarzkopf4_6-2"><sup><i><b>c</b></i></sup></a> (<a href="Segment_tree#CITEREFde_Berg.2C_van_Kreveld.2C_Overmars.2C_Schwarzkopf2000">de Berg, van Kreveld, Overmars, Schwarzkopf 2000</a>, p.&#160;229)</li>
<li id="cite_note-7"><b><a href="Segment_tree#cite_ref-7">^</a></b> (<a href="Segment_tree#CITEREFde_Berg.2C_van_Kreveld.2C_Overmars.2C_Schwarzkopf2000">de Berg, van Kreveld, Overmars, Schwarzkopf 2000</a>, pp.&#160;229–230)</li>
</ol>
</div>
<hr />
<p><span class="citation" id="CITEREFde_Bergvan_KreveldOvermarsSchwarzkopf2000">de Berg, Mark; van Kreveld, Marc; Overmars, Mark; Schwarzkopf, Otfried (2000), <i>Computational Geometry: algorithms and applications</i> (2nd ed.), Springer-Verlag Berlin Heidelberg New York, <a href="http://en.wikipedia.org/wiki/International_Standard_Book_Number" title="International Standard Book Number">ISBN</a>&#160;<a href="http://en.wikipedia.org/wiki/Special:BookSources/3-540-65620-0" title="Special:BookSources/3-540-65620-0">3-540-65620-0</a></span><span class="Z3988" title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=Computational+Geometry%3A+algorithms+and+applications&amp;rft.aulast=de+Berg&amp;rft.aufirst=Mark&amp;rft.au=de+Berg%2C%26%2332%3BMark&amp;rft.au=van+Kreveld%2C%26%2332%3BMarc&amp;rft.au=Overmars%2C%26%2332%3BMark&amp;rft.au=Schwarzkopf%2C%26%2332%3BOtfried&amp;rft.date=2000&amp;rft.edition=2nd&amp;rft.pub=Springer-Verlag+Berlin+Heidelberg+New+York&amp;rft.isbn=3-540-65620-0&amp;rfr_id=info:sid/en.wikipedia.org:Segment_tree"><span style="display: none;">&#160;</span></span></p>
<table class="navbox" cellspacing="0" style=";">
<tr>
<td style="padding:2px;">
<table cellspacing="0" class="nowraplinks collapsible autocollapse" style="width:100%;background:transparent;color:inherit;;">
<tr>
<th style=";" colspan="2" class="navbox-title">
<div style="float:left; width:6em;text-align:left;">
<div class="noprint plainlinks navbar" style="background:none; padding:0; font-weight:normal;;;border:none;; font-size:xx-small;"><a href="http://en.wikipedia.org/wiki/Template:CS_trees" title="Template:CS trees"><span title="View this template" style=";;border:none;">v</span></a>&#160;<span style="font-size:80%;">•</span>&#160;<a href="http://en.wikipedia.org/wiki/Template_talk:CS_trees" title="Template talk:CS trees"><span title="Discuss this template" style=";;border:none;">d</span></a>&#160;<span style="font-size:80%;">•</span>&#160;<a href="http://en.wikipedia.org/w/index.php?title=Template:CS_trees&amp;action=edit" class="external text" rel="nofollow"><span title="Edit this template" style=";;border:none;;">e</span></a></div>
</div>
<span class="" style="font-size:110%;"><a href="http://en.wikipedia.org/wiki/Tree_(data_structure)" title="Tree (data structure)">Trees</a> in <a href="http://en.wikipedia.org/wiki/Computer_science" title="Computer science">computer science</a></span></th>
</tr>
<tr style="height:2px;">
<td></td>
</tr>
<tr>
<td class="navbox-group" style=";;"><a href="http://en.wikipedia.org/wiki/Binary_tree" title="Binary tree">Binary trees</a></td>
<td style="text-align:left;border-left-width:2px;border-left-style:solid;width:100%;padding:0px;;;" class="navbox-list navbox-odd">
<div style="padding:0em 0.25em"><a href="http://en.wikipedia.org/wiki/Binary_search_tree" title="Binary search tree">Binary search tree (BST)</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/Van_Emde_Boas_tree" title="Van Emde Boas tree">Van Emde Boas tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/Cartesian_tree" title="Cartesian tree">Cartesian tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/Top_Tree" title="Top Tree">Top Tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/T-tree" title="T-tree">T-tree</a></div>
</td>
</tr>
<tr style="height:2px">
<td></td>
</tr>
<tr>
<td class="navbox-group" style=";;"><a href="http://en.wikipedia.org/wiki/Self-balancing_binary_search_tree" title="Self-balancing binary search tree">Self-balancing binary search trees</a></td>
<td style="text-align:left;border-left-width:2px;border-left-style:solid;width:100%;padding:0px;;;" class="navbox-list navbox-even">
<div style="padding:0em 0.25em"><a href="http://en.wikipedia.org/wiki/Red-black_tree" title="Red-black tree">Red-black tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/AVL_tree" title="AVL tree">AVL tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/AA_tree" title="AA tree">AA tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/Splay_tree" title="Splay tree">Splay tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/Scapegoat_tree" title="Scapegoat tree">Scapegoat tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/Treap" title="Treap">Treap</a></div>
</td>
</tr>
<tr style="height:2px">
<td></td>
</tr>
<tr>
<td class="navbox-group" style=";;"><a href="http://en.wikipedia.org/wiki/B-tree" title="B-tree">B-trees</a></td>
<td style="text-align:left;border-left-width:2px;border-left-style:solid;width:100%;padding:0px;;;" class="navbox-list navbox-odd">
<div style="padding:0em 0.25em"><a href="http://en.wikipedia.org/wiki/B%2B_tree" title="B+ tree">B+ tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/B*-tree" title="B*-tree">B*-tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/UB-tree" title="UB-tree">UB-tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/2-3_tree" title="2-3 tree">2-3 tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/2-3-4_tree" title="2-3-4 tree">2-3-4 tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/(a,b)-tree" title="(a,b)-tree">(a,b)-tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/Dancing_tree" title="Dancing tree">Dancing tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/Htree" title="Htree">Htree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/Bx-tree" title="Bx-tree">B<small><sup>x</sup></small>-tree</a></div>
</td>
</tr>
<tr style="height:2px">
<td></td>
</tr>
<tr>
<td class="navbox-group" style=";;"><a href="http://en.wikipedia.org/wiki/Trie" title="Trie">Tries</a></td>
<td style="text-align:left;border-left-width:2px;border-left-style:solid;width:100%;padding:0px;;;" class="navbox-list navbox-even">
<div style="padding:0em 0.25em"><a href="http://en.wikipedia.org/wiki/Suffix_tree" title="Suffix tree">Suffix tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/Radix_tree" title="Radix tree">Radix tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/Ternary_search_tree" title="Ternary search tree">Ternary search tree</a></div>
</td>
</tr>
<tr style="height:2px">
<td></td>
</tr>
<tr>
<td class="navbox-group" style=";;"><a href="http://en.wikipedia.org/wiki/Binary_space_partitioning" title="Binary space partitioning">Binary space partitioning (BSP)</a> trees</td>
<td style="text-align:left;border-left-width:2px;border-left-style:solid;width:100%;padding:0px;;;" class="navbox-list navbox-odd">
<div style="padding:0em 0.25em"><a href="http://en.wikipedia.org/wiki/Quadtree" title="Quadtree">Quadtree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/Octree" title="Octree">Octree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/Kd-tree" title="Kd-tree">kd-tree</a> (<a href="http://en.wikipedia.org/wiki/Implicit_kd-tree" title="Implicit kd-tree">implicit</a>)<span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/VP-tree" title="VP-tree">VP-tree</a></div>
</td>
</tr>
<tr style="height:2px">
<td></td>
</tr>
<tr>
<td class="navbox-group" style=";;">Non-binary trees</td>
<td style="text-align:left;border-left-width:2px;border-left-style:solid;width:100%;padding:0px;;;" class="navbox-list navbox-even">
<div style="padding:0em 0.25em"><a href="http://en.wikipedia.org/wiki/Exponential_tree" title="Exponential tree">Exponential tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/Fusion_tree" title="Fusion tree">Fusion tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/Interval_tree" title="Interval tree">Interval tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/PQ_tree" title="PQ tree">PQ tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/Range_tree" title="Range tree">Range tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/SPQR_tree" title="SPQR tree">SPQR tree</a></div>
</td>
</tr>
<tr style="height:2px">
<td></td>
</tr>
<tr>
<td class="navbox-group" style=";;"><a href="http://en.wikipedia.org/wiki/Spatial_index" title="Spatial index">Spatial</a> data partitioning trees</td>
<td style="text-align:left;border-left-width:2px;border-left-style:solid;width:100%;padding:0px;;;" class="navbox-list navbox-odd">
<div style="padding:0em 0.25em"><a href="http://en.wikipedia.org/wiki/R-tree" title="R-tree">R-tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/R%2B_tree" title="R+ tree">R+ tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/R*_tree" title="R* tree">R* tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/X-tree" title="X-tree">X-tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/M-tree" title="M-tree">M-tree</a><span style="font-weight:bold;">&#160;·</span> <strong class="selflink">Segment tree</strong><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/Fenwick_tree" title="Fenwick tree">Fenwick tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/Hilbert_R-tree" title="Hilbert R-tree">Hilbert R-tree</a></div>
</td>
</tr>
<tr style="height:2px">
<td></td>
</tr>
<tr>
<td class="navbox-group" style=";;">Other trees</td>
<td style="text-align:left;border-left-width:2px;border-left-style:solid;width:100%;padding:0px;;;" class="navbox-list navbox-even">
<div style="padding:0em 0.25em"><a href="http://en.wikipedia.org/wiki/Heap_(data_structure)" title="Heap (data structure)">Heap</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/Hash_tree" title="Hash tree">Hash tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/Finger_tree" title="Finger tree">Finger tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/Metric_tree" title="Metric tree">Metric tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/Cover_tree" title="Cover tree">Cover tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/BK-tree" title="BK-tree">BK-tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/Doubly-chained_tree" title="Doubly-chained tree">Doubly-chained tree</a><span style="font-weight:bold;">&#160;·</span> <a href="http://en.wikipedia.org/wiki/The_iDistance_Technique" title="The iDistance Technique" class="mw-redirect">iDistance</a></div>
</td>
</tr>
</table>
</td>
</tr>
</table>


<!-- 
NewPP limit report
Preprocessor node count: 2302/1000000
Post-expand include size: 39198/2048000 bytes
Template argument size: 11825/2048000 bytes
Expensive parser function count: 2/500
-->

<!-- Saved in parser cache with key enwiki:pcache:idhash:13682464-0!1!0!default!!en!4 and timestamp 20101020064558 -->
<div class="printfooter">
Retrieved from "<a href="Segment_tree">http://en.wikipedia.org/wiki/Segment_tree</a>"</div>
				<!-- /bodytext -->
								<!-- catlinks -->
				<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks"><a href="http://en.wikipedia.org/wiki/Special:Categories" title="Special:Categories">Categories</a>: <span dir='ltr'><a href="http://en.wikipedia.org/wiki/Category:Trees_(structure)" title="Category:Trees (structure)">Trees (structure)</a></span> | <span dir='ltr'><a href="http://en.wikipedia.org/wiki/Category:Binary_trees" title="Category:Binary trees">Binary trees</a></span> | <span dir='ltr'><a href="http://en.wikipedia.org/wiki/Category:Computer_graphics_data_structures" title="Category:Computer graphics data structures">Computer graphics data structures</a></span></div><div id="mw-hidden-catlinks" class="mw-hidden-cats-hidden">Hidden categories: <span dir='ltr'><a href="http://en.wikipedia.org/wiki/Category:Articles_needing_additional_references_from_November_2007" title="Category:Articles needing additional references from November 2007">Articles needing additional references from November 2007</a></span> | <span dir='ltr'><a href="http://en.wikipedia.org/wiki/Category:All_articles_needing_additional_references" title="Category:All articles needing additional references">All articles needing additional references</a></span> | <span dir='ltr'><a href="http://en.wikipedia.org/wiki/Category:Articles_to_be_expanded_from_November_2007" title="Category:Articles to be expanded from November 2007">Articles to be expanded from November 2007</a></span> | <span dir='ltr'><a href="http://en.wikipedia.org/wiki/Category:All_articles_to_be_expanded" title="Category:All articles to be expanded">All articles to be expanded</a></span></div></div>				<!-- /catlinks -->
												<div class="visualClear"></div>
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="mw-head" class="noprint">
			
<!-- 0 -->
<div id="p-personal" class="">
	<h5>Personal tools</h5>
	<ul>
					<li  id="pt-prefswitch-link-anon"><a href="http://en.wikipedia.org/w/index.php?title=Special:UsabilityInitiativePrefSwitch&amp;from=Segment_tree" title="Learn about new features" class="no-text-transform">New features</a></li>
					<li  id="pt-login"><a href="http://en.wikipedia.org/w/index.php?title=Special:UserLogin&amp;returnto=Segment_tree" title="You are encouraged to log in; however, it is not mandatory. [o]" accesskey="o">Log in / create account</a></li>
			</ul>
</div>

<!-- /0 -->
			<div id="left-navigation">
				
<!-- 0 -->
<div id="p-namespaces" class="vectorTabs">
	<h5>Namespaces</h5>
	<ul>
					<li  id="ca-nstab-main" class="selected"><a href="Segment_tree"  title="View the content page [c]" accesskey="c"><span>Article</span></a></li>
					<li  id="ca-talk"><a href="http://en.wikipedia.org/wiki/Talk:Segment_tree"  title="Discussion about the content page [t]" accesskey="t"><span>Discussion</span></a></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-variants" class="vectorMenu emptyPortlet">
		<h5><span>Variants</span><a href="Segment_tree#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
			</div>
			<div id="right-navigation">
				
<!-- 0 -->
<div id="p-views" class="vectorTabs">
	<h5>Views</h5>
	<ul>
					<li id="ca-view" class="selected"><a href="Segment_tree" ><span>Read</span></a></li>
					<li id="ca-edit"><a href="http://en.wikipedia.org/w/index.php?title=Segment_tree&amp;action=edit"  title="You can edit this page. &#10;Please use the preview button before saving. [e]" accesskey="e"><span>Edit</span></a></li>
					<li id="ca-history" class="collapsible "><a href="http://en.wikipedia.org/w/index.php?title=Segment_tree&amp;action=history"  title="Past versions of this page [h]" accesskey="h"><span>View history</span></a></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-cactions" class="vectorMenu emptyPortlet">
	<h5><span>Actions</span><a href="Segment_tree#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->

<!-- 2 -->
<div id="p-search">
	<h5><label for="searchInput">Search</label></h5>
	<form action="http://en.wikipedia.org/w/index.php" id="searchform">
		<input type='hidden' name="title" value="Special:Search"/>
				<div id="simpleSearch">
			<input id="searchInput" name="search" type="text"  title="Search Wikipedia [f]" accesskey="f"  value="" />
			<button id="searchButton" type='submit' name='button'  title="Search Wikipedia for this text"><img src="http://bits.wikimedia.org/skins-1.5/vector/images/search-ltr.png?283-4" alt="Search" /></button>
		</div>
			</form>
</div>

<!-- /2 -->
			</div>
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="mw-panel" class="noprint">
				<!-- logo -->
					<div id="p-logo"><a style="background-image: url(http://upload.wikimedia.org/wikipedia/commons/d/d6/Wikipedia-logo-v2-en.png);" href="http://en.wikipedia.org/wiki/Main_Page"  title="Visit the main page"></a></div>
				<!-- /logo -->
				
<!-- navigation -->
<div class="portal" id='p-navigation'>
	<h5>Navigation</h5>
	<div class="body">
				<ul>
					<li id="n-mainpage-description"><a href="http://en.wikipedia.org/wiki/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
					<li id="n-contents"><a href="http://en.wikipedia.org/wiki/Portal:Contents" title="Guides to browsing Wikipedia">Contents</a></li>
					<li id="n-featuredcontent"><a href="http://en.wikipedia.org/wiki/Portal:Featured_content" title="Featured content — the best of Wikipedia">Featured content</a></li>
					<li id="n-currentevents"><a href="http://en.wikipedia.org/wiki/Portal:Current_events" title="Find background information on current events">Current events</a></li>
					<li id="n-randompage"><a href="http://en.wikipedia.org/wiki/Special:Random" title="Load a random article [x]" accesskey="x">Random article</a></li>
					<li id="n-variablepage" class="active" ><a href="http://en.wikipedia.org/w/index.php?title=Special:VariablePage&amp;utm_source=donate&amp;utm_medium=sidebar&amp;utm_campaign=spontaneous_donation">Donate</a></li>
				</ul>
			</div>
</div>

<!-- /navigation -->

<!-- SEARCH -->

<!-- /SEARCH -->

<!-- interaction -->
<div class="portal" id='p-interaction'>
	<h5>Interaction</h5>
	<div class="body">
				<ul>
					<li id="n-aboutsite"><a href="http://en.wikipedia.org/wiki/Wikipedia:About" title="Find out about Wikipedia">About Wikipedia</a></li>
					<li id="n-portal"><a href="http://en.wikipedia.org/wiki/Wikipedia:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li>
					<li id="n-recentchanges"><a href="http://en.wikipedia.org/wiki/Special:RecentChanges" title="The list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
					<li id="n-contact"><a href="http://en.wikipedia.org/wiki/Wikipedia:Contact_us" title="How to contact Wikipedia">Contact Wikipedia</a></li>
					<li id="n-help"><a href="http://en.wikipedia.org/wiki/Help:Contents" title="Guidance on how to use and edit Wikipedia">Help</a></li>
				</ul>
			</div>
</div>

<!-- /interaction -->

<!-- TOOLBOX -->
<div class="portal" id="p-tb">
	<h5>Toolbox</h5>
	<div class="body">
		<ul>
					<li id="t-whatlinkshere"><a href="http://en.wikipedia.org/wiki/Special:WhatLinksHere/Segment_tree" title="List of all English Wikipedia pages containing links to this page [j]" accesskey="j">What links here</a></li>
						<li id="t-recentchangeslinked"><a href="http://en.wikipedia.org/wiki/Special:RecentChangesLinked/Segment_tree" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
																																					<li id="t-upload"><a href="http://en.wikipedia.org/wiki/Wikipedia:Upload" title="Upload files [u]" accesskey="u">Upload file</a></li>
											<li id="t-specialpages"><a href="http://en.wikipedia.org/wiki/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-permalink"><a href="http://en.wikipedia.org/w/index.php?title=Segment_tree&amp;oldid=383049926" title="Permanent link to this revision of the page">Permanent link</a></li>
				<li id="t-cite"><a href="http://en.wikipedia.org/w/index.php?title=Special:Cite&amp;page=Segment_tree&amp;id=383049926" title="Information on how to cite this page">Cite this page</a></li>		</ul>
	</div>
</div>

<!-- /TOOLBOX -->

<!-- coll-print_export -->
<div class="portal" id='p-coll-print_export'>
	<h5>Print/export</h5>
	<div class="body">
				<ul id="collectionPortletList"><li id="coll-create_a_book"><a href="http://en.wikipedia.org/w/index.php?title=Special:Book&amp;bookcmd=book_creator&amp;referer=Segment+tree" title="Create a book or page collection" rel="nofollow">Create a book</a></li><li id="coll-download-as-rl"><a href="http://en.wikipedia.org/w/index.php?title=Special:Book&amp;bookcmd=render_article&amp;arttitle=Segment+tree&amp;oldid=383049926&amp;writer=rl" title="Download a PDF version of this wiki page" rel="nofollow">Download as PDF</a></li><li id="t-print"><a href="http://en.wikipedia.org/w/index.php?title=Segment_tree&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</a></li></ul>			</div>
</div>

<!-- /coll-print_export -->

<!-- LANGUAGES -->
<div class="portal" id="p-lang">
	<h5>Languages</h5>
	<div class="body">
		<ul>
					<li class="interwiki-zh"><a href="http://zh.wikipedia.org/wiki/%E7%BA%BF%E6%AE%B5%E6%A0%91" title="线段树">中文</a></li>
					<li class="interwiki-ja"><a href="http://ja.wikipedia.org/wiki/%E5%8C%BA%E9%96%93%E6%9C%A8" title="区間木">日本語</a></li>
					<li class="interwiki-fa"><a href="http://fa.wikipedia.org/wiki/%D8%AF%D8%B1%D8%AE%D8%AA_%D8%A8%D8%A7%D8%B2%D9%87%E2%80%8C%D9%87%D8%A7" title="درخت بازه‌ها">فارسی</a></li>
				</ul>
	</div>
</div>

<!-- /LANGUAGES -->
			</div>
		<!-- /panel -->
		<!-- footer -->
		<div id="footer">
											<ul id="footer-info">
																	<li id="footer-info-lastmod"> This page was last modified on 5 September 2010 at 12:38.<br /></li>
																							<li id="footer-info-copyright">Text is available under the <a rel="license" href="http://en.wikipedia.org/wiki/Wikipedia:Text_of_Creative_Commons_Attribution-ShareAlike_3.0_Unported_License">Creative Commons Attribution-ShareAlike License</a><a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/" style="display:none;"></a>;
additional terms may apply.
See <a href="http://wikimediafoundation.org/wiki/Terms_of_Use">Terms of Use</a> for details.<br/>
Wikipedia&reg; is a registered trademark of the <a href="http://www.wikimediafoundation.org/">Wikimedia Foundation, Inc.</a>, a non-profit organization.<br /></li><li class="noprint"><a class='internal' href="http://en.wikipedia.org/wiki/Wikipedia:Contact_us">Contact us</a></li>
															</ul>
															<ul id="footer-places">
																	<li id="footer-places-privacy"><a href="http://wikimediafoundation.org/wiki/Privacy_policy" title="wikimedia:Privacy policy">Privacy policy</a></li>
																							<li id="footer-places-about"><a href="http://en.wikipedia.org/wiki/Wikipedia:About" title="Wikipedia:About">About Wikipedia</a></li>
																							<li id="footer-places-disclaimer"><a href="http://en.wikipedia.org/wiki/Wikipedia:General_disclaimer" title="Wikipedia:General disclaimer">Disclaimers</a></li>
															</ul>
										<ul id="footer-icons" class="noprint">
								<li id="footer-icon-poweredby"><a href="http://www.mediawiki.org/"><img src="http://bits.wikimedia.org/skins-1.5/common/images/poweredby_mediawiki_88x31.png" height="31" width="88" alt="Powered by MediaWiki" /></a></li>
												<li id="footer-icon-copyright"><a href="http://wikimediafoundation.org/"><img src="http://en.wikipedia.org/images/wikimedia-button.png" width="88" height="31" alt="Wikimedia Foundation"/></a></li>
							</ul>
			<div style="clear:both"></div>
		</div>
		<!-- /footer -->
		<!-- fixalpha -->
		<script type="text/javascript"> if ( window.isMSIE55 ) fixalpha(); </script>
		<!-- /fixalpha -->
		
<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<script type="text/javascript" src="http://geoiplookup.wikimedia.org/"></script>		<!-- Served by srv196 in 0.048 secs. -->			</body>
</html>
